"use strict";window.alpusPlugin||(window.alpusPlugin={}),function(s){var a={loading:!1,init:function(){alpusPlugin.$("body").on("click",".vote-link",this.getLike)},getLike:function(i){i.preventDefault();var l=s(this),e=(l.data("count"),l.data("id"));a.loading||(a.loading=!0,s.ajax({type:"POST",dataType:"json",url:alpus_post_like_vars.ajax_url,data:{action:"alpus_like_post",nonce:alpus_post_like_vars.nonce,post_id:e},success:function(s){(a.loading=!1,l.attr("data-count",s.likes),l.find(".like-count").length)?l.find(".like-count").html(s.likes):l.html(s.likes);l.attr("data-like-icon")&&(s.icon_class=l.attr("data-like-icon")),l.attr("data-dislike-icon")&&(s.active_icon_class=l.attr("data-dislike-icon")),l.hasClass("alpus-like")||l.hasClass("alpus-dislike")?l.hasClass("alpus-like")?l.removeClass("alpus-like").addClass("alpus-dislike"):l.hasClass("alpus-dislike")&&l.removeClass("alpus-dislike").addClass("alpus-like"):l.hasClass("like")?(l.removeClass("like").addClass("dislike"),s.icon_class?s.active_icon_class?l.find("i").removeClass(s.icon_class).addClass(s.active_icon_class):l.find("i").replaceWith('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70" width="16px" height="16px" preserveAspectRatio="none"><path d="'+alpus_post_like_vars.default_icons.dislike+'"></path></svg>'):s.active_icon_class?l.find("svg").replaceWith('<i class="'+s.active_icon_class+'"</i>'):l.find("svg").replaceWith('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70" width="16px" height="16px" preserveAspectRatio="none"><path d="'+alpus_post_like_vars.default_icons.dislike+'"></path></svg>')):(l.removeClass("dislike").addClass("like"),s.active_icon_class?s.icon_class?l.find("i").removeClass(s.active_icon_class).addClass(s.icon_class):l.find("i").replaceWith('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70" width="16px" height="16px" preserveAspectRatio="none"><path d="'+alpus_post_like_vars.default_icons.like+'"></path></svg>'):s.icon_class?l.find("svg").replaceWith('<i class="'+s.icon_class+'"</i>'):l.find("svg").replaceWith('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70" width="16px" height="16px" preserveAspectRatio="none"><path d="'+alpus_post_like_vars.default_icons.like+'"></path></svg>'));var i=l.find(".alpha-tb-icon"),e=l.attr("data-other_cls");i.length&&e&&(l.attr("data-other_cls",i.attr("class")),i.attr("class",e))}}))}};alpusPlugin.likePost=a,"undefined"!=typeof alpha_vars?alpusPlugin.$window.on("alpha_complete",(function(s){alpusPlugin.likePost.init()})):s(document).on("ready",(function(){alpusPlugin.likePost.init()})),alpusPlugin.$window.on("keydown",(function(s){13==s.keyCode&&s.preventDefault()}))}(jQuery);